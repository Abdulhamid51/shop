{% extends 'wrapper.html' %}

{% block content %}
<style>
  .order-container{max-width:980px;margin:30px auto;padding:20px}
  .order-card{background:#fff;border-radius:12px;box-shadow:0 6px 24px rgba(16,24,40,.08);overflow:hidden}
  .order-header{display:flex;align-items:center;gap:18px;padding:28px 32px;border-bottom:1px solid #f1f5f9}
  .order-check{width:64px;height:64px;background:linear-gradient(135deg,#22c55e,#16a34a);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
  .order-body{padding:28px 32px}
  .order-meta{display:flex;flex-wrap:wrap;gap:12px;color:#334155;margin-bottom:14px}
  .order-meta .meta-item{background:#f8fafc;padding:10px 14px;border-radius:8px;font-size:14px}
  .items-table{width:100%;border-collapse:collapse;margin-top:8px}
  .items-table th,.items-table td{padding:12px 10px;text-align:left;border-bottom:1px solid #eef2f7}
  .items-table th{color:#475569;font-weight:600;font-size:14px}
  .items-table td{color:#0f172a;font-size:14px}
  .order-footer{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;background:#fbfdff;border-top:1px solid #f1f5f9}
  .total-box{font-size:18px;font-weight:700;color:#0f172a}
  .btn-primary{background:#0ea5a3;color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none}
  .btn-secondary{background:transparent;border:1px solid #e2e8f0;color:#0f172a;padding:8px 14px;border-radius:8px;text-decoration:none}
  @media (max-width:640px){.order-header{padding:18px}.order-body{padding:18px}.order-footer{flex-direction:column;gap:12px;align-items:flex-start}}
</style>

<div class="order-container">
  <div class="order-card">
    <div class="order-header">
      <div class="order-check">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>
      </div>
      <div>
        <h2 style="margin:0 0 6px 0;">Спасибо — ваш заказ принят!</h2>
        <div style="color:#64748b;font-size:14px">Номер заказа <strong>#{{ order.id }}</strong> — создан успешно</div>
      </div>
    </div>

    <div class="order-body">
      <div class="order-meta">
        <div class="meta-item">ФИО: {{ order.fio }}</div>
        <div class="meta-item">Телефон: {{ order.phone }}</div>
        {% if order.phone2 %}<div class="meta-item">Доп. телефон: {{ order.phone2 }}</div>{% endif %}
        <div class="meta-item">Адрес: {{ order.address }}</div>
      </div>

      <table class="items-table" role="table">
        <thead>
          <tr>
            <th>Товар</th>
            <th>Опции</th>
            <th>Кол-во</th>
            <th>Цена</th>
            <th>Сумма</th>
          </tr>
        </thead>
        <tbody>
          {% for it in items %}
            <tr>
              <td>{{ it.product_name }}</td>
              <td>{{ it.color_name }}{% if it.size_value %} / {{ it.size_value }}{% endif %}</td>
              <td>{{ it.count }}</td>
              <td>₽{{ it.unit_price|floatformat:2 }}</td>
              <td>₽{{ it.total|floatformat:2 }}</td>
            </tr>
          {% empty %}
            <tr><td colspan="5">Пусто</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="order-footer">
      <div class="total-box">Итого: ₽{{ order_total|floatformat:2 }}</div>
      <div style="display:flex;gap:10px;align-items:center">
        <a href="" class="btn-secondary">Продолжить покупки</a>
        <a href="/index/" class="btn-primary">На главную</a>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
